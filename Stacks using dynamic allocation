#include <stdio.h>
#include <stdlib.h>

struct stack{
    int data;
    int TOP;
};

//To Display the stack
void display(struct stack* stack_reference)
{
    for(int i = stack_reference->TOP; i >= 0; i--)
    {
        printf("%d\n", (stack_reference + i)->data);
    }
}

//For insertion of data/PUSH Operation
void push(struct stack* stack_reference, int data_to_be_inserted, int size_reference)
{
    int element_number = stack_reference->TOP + 1;
    if (stack_reference->TOP == size_reference)
        return;//isFull
    (stack_reference + element_number)->data = data_to_be_inserted;
    stack_reference->TOP++;
}

//For deletion of data/POP Opereation
void pop(struct stack* stack_reference)
{
    if (stack_reference->TOP == 0)
        return;//isEmpty
    stack_reference->TOP--;
}

//To view the top element/Peek Operation
void peek(struct stack* stack_reference)
{
    printf("%d\n", (stack_reference + (stack_reference->TOP))->data);
}

int main()
{
    int size;
    printf("Enter the size of the stack");
    scanf("%d", &size);
    struct stack* stack_1 = malloc(size * sizeof(struct stack));
    stack_1->TOP = -1;
    push(stack_1, 1, size);
    display(stack_1);
    push(stack_1, 2, size);
    display(stack_1);
    push(stack_1, 3, size);
    display(stack_1);
    peek(stack_1);
    pop(stack_1);
    display(stack_1);
    return 0;
}
